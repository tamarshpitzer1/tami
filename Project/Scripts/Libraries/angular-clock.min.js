!function(){"use strict";function t(t,n){return{restrict:"EA",scope:{gmtOffset:"=gmtOffset",digitalFormat:"=digitalFormat"},template:'<div class="widget-clock" ng-class="theme" ng-if="date"><div class="digital" ng-if="digital"><span class="time"><span class="hours">{{digital}}</span></span></div><div class="analog" ng-if="analog"><div class="square"><svg viewBox="0 0 100 100"><g transform="translate(50,50)"><circle class="clock-face" r="48" /><line ng-repeat="minor in minors track by $index" class="minor" y1="42" y2="45" ng-attr-transform="rotate({{360 * $index / minors.length}})" /><line ng-repeat="major in majors track by $index" class="major" y1="35" y2="46" ng-attr-transform="rotate({{360 * $index / majors.length}})" /><line class="hour" y1="2" y2="-20" ng-attr-transform="rotate({{30 * date.hrs + date.mins / 2}})" /><line class="minute" y1="4" y2="-30" ng-attr-transform="rotate({{6 * date.mins + date.secs / 10}})" /><g ng-attr-transform="rotate({{6 * date.secs}})"><line class="second" y1="10" y2="-38" /><line class="second-counterweight" y1="10" y2="2" /></g></g></svg></div></div><div ng-if="gmtInfo" class="gmt-info">{{gmtInfo}}</div></div>',link:function(s,o,g){var l,m={},c=s.gmtOffset,f=void 0!==s.digitalFormat?s.digitalFormat:"HH:mm:ss";m.showDigital=void 0!==g.showDigital?!0:!1,m.showAnalog=void 0!==g.showAnalog?!0:!1,m.showGmtInfo=void 0!==g.showGmtInfo?!0:!1,m.startTime=parseInt(g.startTime,10),s.theme=void 0!==g.theme?g.theme:"light",m.showDigital||m.showAnalog||(m.showAnalog=!0,m.showDigital=!0),s.gmtInfo=!1,s.date=i(m),s.digital=m.showDigital?"Loading..":!1,s.analog=m.showAnalog,s.majors=new Array(12),s.minors=new Array(60);var d=null,u=function(){isNaN(m.startTime)||(m.startTime=m.startTime+1e3),d=i(m),s.date=d,m.showDigital&&(s.digital=r(d,f,c,n))};l=t(u,1e3),s.$watch("gmtOffset",function(t){c=t,m.gmtOffset=void 0!==c&&null!==c?e(c):!1,m.showGmtInfo&&m.gmtOffset!==!1&&(s.gmtInfo=a(m.gmtOffset)),u()}),o.on("$destroy",function(){t.cancel(l),l=null})}}}function e(t){t=parseFloat(t);var e=t>0?Math.floor(t):Math.ceil(t),a=t%1/.6;return e+a}function a(t){var e=t>0?Math.floor(t):Math.ceil(t),a=Math.round((t>0?t:-1*t)%1*60);return"GMT"+(0===t?"":(t>0?" +":" ")+n(e)+"."+s(a).substring(0,2))}function n(t){return 0>t?(t>-10?"-0":"-")+-1*t:(10>t?"0":"")+t}function s(t){return t+(10>t?"0":"")}function i(t){var e=isNaN(t.startTime)?new Date:new Date(t.startTime);if(null!==t.gmtOffset&&t.gmtOffset!==!1){var a=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(a+36e5*t.gmtOffset);return{hrs:n.getHours(),mins:n.getMinutes(),secs:n.getSeconds(),date:n}}return{hrs:e.getHours(),mins:e.getMinutes(),secs:e.getSeconds(),date:e}}function r(t,e,a,n){return n("date")(t.date,e,a)}angular.module("ds.clock",[]).directive("dsWidgetClock",["$interval","$filter",function(e,a){return t(e,a)}])}();
//# sourceMappingURL=angular-clock.min.js.map